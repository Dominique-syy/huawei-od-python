# 003-IPv4地址转换成整数

## 题目描述

存在一种虚拟PV4地址，由4小节组成，每节的范围为0-255，以#号间隔，
虚拟PV4地址可以转换为一个32位的整数，例如：
128#0#255#255,转换为32位整数的结果为2147549183(0×80 00 FF FF)
1#0#0#0,转换为32位整数的结果为16777216(0x 01 00 00 00)
现以字符串形式给出一个虚拟PV4地址，限制第1小节的范围为1-128，
即每一节范围分别为(1-128)#(0-255)#(0-255)#(0-255)，
要求每个PV4地址只能对应到唯一的整数上。
如果是非法IPv4,返回invalid IP

* 备注：
  输入不能确保是合法的PV4地址，
  需要对非法PV4(空串，含有P地址中不存在的字符，非合法的#分十进制，十进制整数不在合法区间内)
  进行识别，返回特定错误

## 输入描述

输入一行，虚拟PV4地址格式字符串

## 输出描述

输出以上，按照要求输出整型或者特定字符

## 示例描述

### 示例一

**输入：**
```shell
1#2#3
```

**输出：**
```shell
invalid IP
```

**说明：**  

## 解题思路

该算法是一个将IP地址转换为32位整数的算法。IP地址是由四个数字（每个数字的值在0-255之间）组成，用点号分隔。例如，
“192.168.0.1”可以转换为3232235521的32位整数。算法首先检查字符串是否符合IP地址的格式，如果格式正确，则计算32位整
数。如果格式不正确，则输出错误信息。

### 核心知识点

* 字符串操作
* 位运算
* 条件语句

## 解题代码

```python
def solve_method(ip:str):
    # 以#分隔字符串
    strings = ip.split("#")
    # 获取长度
    length = len(strings)
    count = 0
    # 置为合法
    is_valid = True
    # 首先该字符串得是四小节
    if length == 4:
        for i in range(length):
            # 取出每一个数
            n = int(strings[i])
            # 第一个数的取值范围是1~128
            if i==0 and (n < 1 or n > 128):
                is_valid = False
                break
            # 过滤其他位置上的非法
            elif n < 0 or n > 255:
                is_valid = False
                break
            # 分析可得出一个数值对应两位十六进制数也就是八位二进制数
            # 位运算左移（3-i）个八位
            count+=n<<(8*(3-i))
    else:
        is_valid = False
    if is_valid:
        print(count)
    else:
        print("invalid IP")

if __name__ =='__main__':
    ip = input()
    solve_method(ip)
```

