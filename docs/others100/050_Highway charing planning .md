# 050 高速公路充电技术

## 题目描述

橡皮擦购买了一辆续航里程数达`1000`公里的某自动驾驶新能源车。 某一天车辆充满电后，需从甲城出发前往距离D公里远的乙城，全程走高速。

车载导航提示沿途有N个休息站均可提供充电服务，各休息站均可实时提供当前充电排队时间（小时）。请协助规划时间最优的休息站充电方案，返回最短的旅行用时。

为方便计算，高速上的行驶速度固定为`100`公里／小时。规划时可不必考虑保留安全续航里程数，汽车可以将电完全用光，`1000`公里续航的汽车按`100`公里／小时，可以开`10`个小时。每次充电时间固定为1小时，完成后电量充满。各站点充电排队时间不会变化，充电排队过程不耗电。

## 输入描述
第一行表示甲乙两城的距离D，单位为公里。
第二行表示沿途的休息站数量N。

第三行起，每行2个数据，分别表示休息站距离甲城的距离，以及充电排队所需时间（小时），（各休息站按离从近到远排序）。`0＜＝D＜＝1000000`，D是100的整数倍`0<=N<=10000`

## 示例描述

### 示例一

**输入：**
```text
1500
4
300 2
600 1
1000 0
1200 0
```

**输出：**
```text
16
```
**说明**

只在第3个休息站（位置1000）进行充电1500公里的行程耗时：15小时

充电排队0小时，充电1小时最快旅程总计花费16小时

其他方案
在第2个休息站（位置600）进行充电，总计花费17小时
其他方案
在第2个休息站（位置600）和第4个休息站（位置1200）进行充电，总计花费19小时

### 示例二

**输入：**

```text
800
2
300 0
600 0
```

**输出：**
```text
8
```
**说明**

最佳方案

不进任何休息站充电

800公里的行程耗时8小时


## 解题代码

```python
# 初始化距离和时间列表
pd, pt = [], []
# 初始化备忘录字典，用于存储已计算的解
memo = {}


# 动态规划函数
def dp(pow, dis, N):
    # 如果当前功率大于或等于距离，则返回所需的时间
    if pow >= dis:
        return dis // 100
    key = f"{pow},{dis}"
    if key in memo:
        return memo[key]
    res = float('inf')
    # 遍历所有可能的选择
    for i in range(N):
        # 跳过不合适的选择
        if dis - pow > pd[i] or pd[i] == dis or dp(1000, pd[i], N) == -1:
            continue
        # 计算当前选择的结果，并与之前的结果进行比较
        res = min(res, (dis - pd[i] // 100 + pt[i] + 1 + dp(1000, pd[i], N)))

    # 如果没有找到解，则返回-1
    memo[key] = -1 if res == float('inf') else res
    return memo[key]


if __name__ == "__main__":
    # 读取总距离和元素数量
    D, n = map(int, input().split())
    # 初始化距离和时间列表
    pd = [0] * n
    pt = [0] * n
    # 读取每个元素的距离和时间
    for i in range(n):
        pd[i], pt[i] = map(int, input().split())
        pd[i] = D - pd[i]
    # 调用动态规划函数并打印结果
    print(dp(1000, D, n))
```

